{% extends 'base.html.twig' %}

{% block title %}Dashboard{% endblock %}

{% block body %}


{# affichage user connecté #}
{% if app.user %}

<marquee class="bandeau" direction="left" behavior="scroll" scrollamount="6" style=" margin-right: 200px; height:40px;width:80vw;background-color:#none;font-family:sans-serif;font-size:22pt;color:#000000; " >  Vous êtes connecté en tant que {{ app.user.username }} et nous sommes le {{date|date('d-M-Y')}}</marquee>
    
{% endif %}
{# fin affichage user connecté #}


{# card des check in #}
<div class="container-fluid ">
<div class="row d-flex justify-content-center">
    <div class="col-5">
    <div class="card  bg-transparent" style="width: 40rem; height:20rem ;">
  <div class="card-header">
    CHECK IN ({% for checkin in nbResaJour %}{{checkin}}{% endfor %})
  </div>
  <div class="card-body ">
    <table class ="table table-striped">
                <thead class="thead-dark">
                    <tr>
                        <th>N° ID</th>
                        <th>Nom du client</th>
                        <th>N°/Nom de chambre</th>
                        <th>État de la réservation</th>
                      
                    </tr>
                </thead>
                <tbody>
                    {% for reservation in reservationDuJour %}
                    <tr>
                        <td>{{reservation.id}}</td>
                        <td> {{reservation.client.nom}}</td>
                        <td> {% for chambre in reservation.chambre %} {{chambre.nom}} {% endfor %}</td>
                    
                        <td>{{reservation.renderStatus}}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
    <a href="{{ path('reservationCheck') }}" class="btn affchin">Afficher les check-in</a>
  </div>
</div>
</div>


 {# fin card des check in #}

 {# card des check out #}

    <div class="col-5">
    <div class="card bg-transparent" style="width: 40rem; height:20rem">
  <div class="card-header">
    CHECK OUT ({% for checkout in nbDepartJour %}{{checkout}}{% endfor %})
  </div>
  <div class="card-body">
    <table class ="table table-striped">
                <thead class="thead-dark">
                    <tr>
                        <th>N° ID</th>
                        <th>Nom du client</th>
                        <th>N°/Nom de chambre</th>
                        <th>État de la réservation</th>
                    </tr>
                </thead>
                <tbody>
                    {% for depart in departDuJour %}
                    <tr>
                        <td>{{depart.id}}</td>
                        <td> {{depart.client.nom}}</td>
                        <td> {% for chambre in depart.chambre %} {{chambre.nom}} {% endfor %}</td>
                        <td>{{depart.renderStatus}}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table> 
            <a href="{{ path('reservationCheck') }}" class="btn affchout">Afficher les check-out</a>
            </div>
        </div>
    </div>
</div>

 {# fin card des check out #}

<br>

 {# affichage de la météo #}

<div class="container-fluid ">
<div class="row d-flex justify-content-center">
    <div class="col-5">
    <div class="card  bg-transparent" style="width: 40rem; height:20rem ;">
  <div class="card-header">
   Météo de la semaine
  </div>
  <div class="card-body ">
   <!-- weather widget start --><div id="m-booked-weather-bl250-99007"> <div class="booked-wzs-250-175 weather-customize" style="background-color:#137AE9;width:360px;" id="width1"> <div class="booked-wzs-250-175_in"> <div class="booked-wzs-250-175-data"> <div class="booked-wzs-250-175-left-img wrz-18"> <a target="_blank" href="https://www.booked.net/"> <img src="//s.bookcdn.com/images/letter/logo.gif" alt="https://www.booked.net" /> </a> </div> <div class="booked-wzs-250-175-right"> <div class="booked-wzs-day-deck"> <div class="booked-wzs-day-val"> <div class="booked-wzs-day-number"><span class="plus">+</span>11</div> <div class="booked-wzs-day-dergee"> <div class="booked-wzs-day-dergee-val">&deg;</div> <div class="booked-wzs-day-dergee-name">C</div> </div> </div> <div class="booked-wzs-day"> <div class="booked-wzs-day-d">H: <span class="plus">+</span>11&deg;</div> <div class="booked-wzs-day-n">L: <span class="plus">+</span>6&deg;</div> </div> </div> <div class="booked-wzs-250-175-info"> <div class="booked-wzs-250-175-city">Paris </div> <div class="booked-wzs-250-175-date">Lundi, 10 Février</div> <div class="booked-wzs-left"> <span class="booked-wzs-bottom-l">Prévisions sur 7 jours</span> </div> </div> </div> </div> <a target="_blank" href="https://hotelmix.fr/weather/paris-18145"> <table cellpadding="0" cellspacing="0" class="booked-wzs-table-250"> <tr> <td>Mar.</td> <td>Mer.</td> <td>Jeu.</td> <td>Ven.</td> <td>Sam.</td> <td>Dim.</td> </tr> <tr> <td class="week-day-ico"><div class="wrz-sml wrzs-18"></div></td> <td class="week-day-ico"><div class="wrz-sml wrzs-18"></div></td> <td class="week-day-ico"><div class="wrz-sml wrzs-18"></div></td> <td class="week-day-ico"><div class="wrz-sml wrzs-03"></div></td> <td class="week-day-ico"><div class="wrz-sml wrzs-18"></div></td> <td class="week-day-ico"><div class="wrz-sml wrzs-18"></div></td> </tr> <tr> <td class="week-day-val"><span class="plus">+</span>7&deg;</td> <td class="week-day-val"><span class="plus">+</span>8&deg;</td> <td class="week-day-val"><span class="plus">+</span>10&deg;</td> <td class="week-day-val"><span class="plus">+</span>10&deg;</td> <td class="week-day-val"><span class="plus">+</span>13&deg;</td> <td class="week-day-val"><span class="plus">+</span>14&deg;</td> </tr> <tr> <td class="week-day-val"><span class="plus">+</span>4&deg;</td> <td class="week-day-val"><span class="plus">+</span>4&deg;</td> <td class="week-day-val"><span class="plus">+</span>6&deg;</td> <td class="week-day-val"><span class="plus">+</span>6&deg;</td> <td class="week-day-val"><span class="plus">+</span>10&deg;</td> <td class="week-day-val"><span class="plus">+</span>12&deg;</td> </tr> </table> </a> </div></div> </div><script type="text/javascript"> var css_file=document.createElement("link"); css_file.setAttribute("rel","stylesheet"); css_file.setAttribute("type","text/css"); css_file.setAttribute("href",'https://s.bookcdn.com/css/w/booked-wzs-widget-275.css?v=0.0.1'); document.getElementsByTagName("head")[0].appendChild(css_file); function setWidgetData(data) { if(typeof(data) != 'undefined' && data.results.length > 0) { for(var i = 0; i < data.results.length; ++i) { var objMainBlock = document.getElementById('m-booked-weather-bl250-99007'); if(objMainBlock !== null) { var copyBlock = document.getElementById('m-bookew-weather-copy-'+data.results[i].widget_type); objMainBlock.innerHTML = data.results[i].html_code; if(copyBlock !== null) objMainBlock.appendChild(copyBlock); } } } else { alert('data=undefined||data.results is empty'); } } </script> <script type="text/javascript" charset="UTF-8" src="https://widgets.booked.net/weather/info?action=get_weather_info&ver=6&cityID=18145&type=3&scode=124&ltid=3457&domid=581&anc_id=93001&cmetric=1&wlangID=3&color=137AE9&wwidth=160&header_color=ffffff&text_color=333333&link_color=08488D&border_form=1&footer_color=ffffff&footer_text_color=333333&transparent=0"></script><!-- weather widget end -->

  </div>
</div>
</div>


 {# fin card météo #}



{% endblock %}
